<!DOCTYPE html>

<html>

<head>

    <meta charset="UTF-8">

    <title></title>

    <style>

        div {

            width:1425px; height:800px;border: 1px solid;border-color: grey;

        }

    </style>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script>
        $(function () {
                $.ajax({
                    type: "get",
                    //python url
                    //url: "http://127.0.0.1:8899/heartmap",
                    //java url
                    url: "http://localhost:8080/heartmap/get_heartmap",
                   
                    dataType: "json",
                    success: function(data){
                        console.log(data);
                        var heatmapInstance = h337.create({
                            container: document.querySelector('#heatmap'),
                        });

                        var points = [];
                        var max = 0;

                        points = [{'value': 0, 'x': 170, 'y': 620}, {'value': 0, 'x': 180, 'y': 620}, {'value': 0, 'x': 280, 'y': 490}, {'value': 0, 'x': 400, 'y': 490}, {'value': 8, 'x': 410, 'y': 490}, {'value': 0, 'x': 440, 'y': 490}, {'value': 0, 'x': 510, 'y': 410}, {'value': 0, 'x': 1020, 'y': 660}, {'value': 0, 'x': 1030, 'y': 590}, {'value': 0, 'x': 1030, 'y': 640}, {'value': 0, 'x': 1030, 'y': 660}, {'value': 0, 'x': 1030, 'y': 800}, {'value': 0, 'x': 1040, 'y': 640}, {'value': 0, 'x': 1220, 'y': 480}, {'value': 0, 'x': 1220, 'y': 490}, {'value': 0, 'x': 1220, 'y': 500}, {'value': 0, 'x': 1230, 'y': 490}, {'value': 0, 'x': 1240, 'y': 480}, {'value': 0, 'x': 1240, 'y': 490}, {'value': 0, 'x': 1240, 'y': 500}, {'value': 0, 'x': 1250, 'y': 480}, {'value': 0, 'x': 1250, 'y': 490}, {'value': 0, 'x': 1260, 'y': 490}, {'value': 0, 'x': 1270, 'y': 490}, {'value': 0, 'x': 1270, 'y': 500}, {'value': 0, 'x': 1280, 'y': 490}, {'value': 0, 'x': 1280, 'y': 500}, {'value': 0, 'x': 1290, 'y': 480}, {'value': 0, 'x': 1290, 'y': 490}, {'value': 0, 'x': 1290, 'y': 500}, {'value': 0, 'x': 1300, 'y': 490}, {'value': 0, 'x': 1300, 'y': 500}, {'value': 0, 'x': 1320, 'y': 480}, {'value': 0, 'x': 1320, 'y': 490}, {'value': 0, 'x': 1330, 'y': 480}, {'value': 0, 'x': 1330, 'y': 490}, {'value': 0, 'x': 1330, 'y': 500}, {'value': 0, 'x': 1340, 'y': 490}, {'value': 0, 'x': 1370, 'y': 480}, {'value': 0, 'x': 1370, 'y': 490}, {'value': 0, 'x': 1370, 'y': 500}, {'value': 0, 'x': 1380, 'y': 480}, {'value': 0, 'x': 1380, 'y': 490}, {'value': 0, 'x': 1380, 'y': 500}, {'value': 0, 'x': 1390, 'y': 480}, {'value': 0, 'x': 1390, 'y': 490}, {'value': 0, 'x': 600, 'y': 490}, {'value': 0, 'x': 610, 'y': 480}, {'value': 0, 'x': 730, 'y': 480}, {'value': 0, 'x': 790, 'y': 490}, {'value': 0, 'x': 1020, 'y': 580}, {'value': 0, 'x': 1020, 'y': 600}, {'value': 0, 'x': 1030, 'y': 580}, {'value': 0, 'x': 1030, 'y': 600}, {'value': 0, 'x': 1030, 'y': 800}, {'value': 0, 'x': 1040, 'y': 640}, {'value': 0, 'x': 1210, 'y': 480}, {'value': 0, 'x': 1220, 'y': 480}, {'value': 0, 'x': 1220, 'y': 490}, {'value': 0, 'x': 1220, 'y': 500}, {'value': 0, 'x': 1230, 'y': 480}, {'value': 0, 'x': 1230, 'y': 490}, {'value': 0, 'x': 1230, 'y': 500}, {'value': 0, 'x': 1240, 'y': 480}, {'value': 0, 'x': 1240, 'y': 490}, {'value': 0, 'x': 1240, 'y': 500}, {'value': 0, 'x': 1250, 'y': 480}, {'value': 0, 'x': 1250, 'y': 490}, {'value': 0, 'x': 1250, 'y': 500}, {'value': 0, 'x': 1260, 'y': 480}, {'value': 0, 'x': 1260, 'y': 490}, {'value': 0, 'x': 1270, 'y': 480}, {'value': 0, 'x': 1270, 'y': 490}, {'value': 0, 'x': 1270, 'y': 500}, {'value': 0, 'x': 1280, 'y': 480}, {'value': 0, 'x': 1280, 'y': 490}, {'value': 0, 'x': 1280, 'y': 500}, {'value': 0, 'x': 1290, 'y': 480}, {'value': 0, 'x': 1300, 'y': 480}, {'value': 0, 'x': 1300, 'y': 490}, {'value': 0, 'x': 1310, 'y': 480}, {'value': 0, 'x': 1320, 'y': 480}, {'value': 0, 'x': 1320, 'y': 490}, {'value': 0, 'x': 1330, 'y': 480}, {'value': 0, 'x': 1340, 'y': 490}, {'value': 0, 'x': 1350, 'y': 480}, {'value': 0, 'x': 1370, 'y': 480}, {'value': 0, 'x': 1370, 'y': 490}, {'value': 0, 'x': 1370, 'y': 500}, {'value': 0, 'x': 1380, 'y': 480}, {'value': 0, 'x': 1380, 'y': 490}, {'value': 0, 'x': 1380, 'y': 500}, {'value': 0, 'x': 1390, 'y': 480}, {'value': 0, 'x': 1390, 'y': 490}, {'value': 0, 'x': 1390, 'y': 500}, {'value': 0, 'x': 896, 'y': 736}, {'value': 15, 'x': 912, 'y': 560}, {'value': 6, 'x': 912, 'y': 576}, {'value': 9, 'x': 912, 'y': 592}, {'value': 14, 'x': 912, 'y': 608}, {'value': 2, 'x': 912, 'y': 624}, {'value': 19, 'x': 912, 'y': 640}, {'value': 4, 'x': 912, 'y': 656}, {'value': 13, 'x': 912, 'y': 672}, {'value': 13, 'x': 912, 'y': 688}, {'value': 4, 'x': 912, 'y': 704}, {'value': 19, 'x': 912, 'y': 720}, {'value': 3, 'x': 912, 'y': 736}, {'value': 0, 'x': 928, 'y': 544}, {'value': 8, 'x': 928, 'y': 560}, {'value': 3, 'x': 928, 'y': 576}, {'value': 4, 'x': 928, 'y': 592}, {'value': 5, 'x': 928, 'y': 608}, {'value': 1, 'x': 928, 'y': 624}, {'value': 5, 'x': 928, 'y': 640}, {'value': 5, 'x': 432, 'y': 176}, {'value': 13, 'x': 432, 'y': 192}, {'value': 4, 'x': 432, 'y': 208}, {'value': 11, 'x': 432, 'y': 224}, {'value': 3, 'x': 432, 'y': 240}, {'value': 8, 'x': 432, 'y': 256}, {'value': 1, 'x': 432, 'y': 272}, {'value': 6, 'x': 448, 'y': 560}, {'value': 7, 'x': 448, 'y': 576}, {'value': 0, 'x': 448, 'y': 592}, {'value': 0, 'x': 464, 'y': 544}, {'value': 8, 'x': 464, 'y': 560}, {'value': 9, 'x': 464, 'y': 576}, {'value': 0, 'x': 464, 'y': 592}, {'value': 0, 'x': 528, 'y': 128}, {'value': 2, 'x': 528, 'y': 144}, {'value': 0, 'x': 528, 'y': 160}, {'value': 7, 'x': 544, 'y': 128}, {'value': 37, 'x': 544, 'y': 144}, {'value': 6, 'x': 544, 'y': 160}, {'value': 1, 'x': 560, 'y': 128}, {'value': 6, 'x': 560, 'y': 144}, {'value': 1, 'x': 560, 'y': 160}, {'value': 1, 'x': 560, 'y': 640}, {'value': 17, 'x': 560, 'y': 656}, {'value': 50, 'x': 560, 'y': 672}, {'value': 27, 'x': 560, 'y': 688}, {'value': 0, 'x': 560, 'y': 704}, {'value': 0, 'x': 576, 'y': 640}, {'value': 6, 'x': 576, 'y': 656}, {'value': 16, 'x': 576, 'y': 672}, {'value': 5, 'x': 432, 'y': 176}, {'value': 13, 'x': 432, 'y': 192}, {'value': 4, 'x': 432, 'y': 208}, {'value': 11, 'x': 432, 'y': 224}, {'value': 3, 'x': 432, 'y': 240}, {'value': 8, 'x': 432, 'y': 256}, {'value': 1, 'x': 432, 'y': 272}, {'value': 6, 'x': 448, 'y': 560}, {'value': 7, 'x': 448, 'y': 576}, {'value': 0, 'x': 448, 'y': 592}, {'value': 0, 'x': 464, 'y': 544}, {'value': 8, 'x': 464, 'y': 560}, {'value': 9, 'x': 464, 'y': 576}, {'value': 0, 'x': 464, 'y': 592}, {'value': 0, 'x': 528, 'y': 128}, {'value': 2, 'x': 528, 'y': 144}, {'value': 0, 'x': 528, 'y': 160}, {'value': 7, 'x': 544, 'y': 128}, {'value': 37, 'x': 544, 'y': 144}, {'value': 6, 'x': 544, 'y': 160}, {'value': 1, 'x': 560, 'y': 128}, {'value': 6, 'x': 560, 'y': 144}, {'value': 1, 'x': 560, 'y': 160}, {'value': 1, 'x': 560, 'y': 640}, {'value': 17, 'x': 560, 'y': 656}, {'value': 50, 'x': 560, 'y': 672}, {'value': 27, 'x': 560, 'y': 688}, {'value': 0, 'x': 560, 'y': 704}, {'value': 0, 'x': 576, 'y': 640}, {'value': 6, 'x': 576, 'y': 656}, {'value': 16, 'x': 576, 'y': 672}, {'value': 13, 'x': 288, 'y': 432}, {'value': 9, 'x': 288, 'y': 448}, {'value': 13, 'x': 288, 'y': 464}, {'value': 0, 'x': 288, 'y': 480}, {'value': 1, 'x': 288, 'y': 528}, {'value': 4, 'x': 288, 'y': 544}, {'value': 1, 'x': 288, 'y': 560}, {'value': 3, 'x': 288, 'y': 576}, {'value': 0, 'x': 288, 'y': 592}, {'value': 3, 'x': 288, 'y': 608}, {'value': 0, 'x': 288, 'y': 624}, {'value': 1, 'x': 288, 'y': 640}, {'value': 1, 'x': 288, 'y': 656}, {'value': 3, 'x': 288, 'y': 672}, {'value': 1, 'x': 288, 'y': 688}, {'value': 0, 'x': 288, 'y': 704}, {'value': 0, 'x': 288, 'y': 720}]
                        var draw_data = {
                            max: 50,
                            data: data

                        };
                        console.log(draw_data)
                        heatmapInstance.setData(draw_data); 
                        
                        },
                })
                });

    </script>  
    <script src="heatmap.js\build\heatmap.js"></script>

   

</head>

<body>
    <h1 align="center">热力图</h1>
    <div id="heatmap">
        <img width="1425px" height="800px" src="拓扑.png">
    </div>

</body>


</html>

